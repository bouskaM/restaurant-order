<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Let me try vue</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

</head>


<style>
    [v-cloak] {
        display: none;
    }

    #map {

        height: 500px;
    }

    #mapIf {
        width: -webkit-fill-available;
        height: -webkit-fill-available;
    }

    .list-group-item .restaurants {
        height: 100px;

    }
</style>

<body>

    <div class="container" id="app">
        <div class="row" id="mapContainer">
            <div class="col-md-8" id="map">
                <iframe id="mapIf" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDJTDB2x4LgizZgIs8YhZ05bE-pFLP0Q0M&q=Space+Needle,Seattle+WA"
                    allowfullscreen>
                </iframe>
            </div>
            <div class="col-md-4" id="restaurantList">
                <ul class="list-group">
                    <a href="javascript:void(0)" class="list-group-item list-group-item-action restaurants" v-for="restaurant in restaurants"
                        @click='selected = restaurant.id; selected2=[]; total = 0' :class="{active:restaurant.id == selected}">
                        <strong>{{restaurant.name}}</strong>
                        | <span v-for="item in restaurant.stars">{{star}}</span>
                        <br> {{restaurant.lastComment}}</a>
                </ul>

            </div>
        </div>

        <div v-if="activeRestaurant != undefined" id="menu">
            <h1>{{activeRestaurant.name}}</h1>
            <div v-if="activeRestaurantMenu.soup.length > 0" id="polevky">
                <strong>Pol√©vky</strong>

                <ul class="list-group">
                    <a href="javascript:void(0)" class="list-group-item list-group-item-action" v-for="item in activeRestaurantMenu.soup"
                        @click='(selected2.indexOf(item.id) == -1) ? addToBill(item) : removeFromBill(item)' :class="{active:selected2.indexOf(item.id)!=-1}">
                        {{item.name}} <span class="float-right">{{item.price}} ,- Kƒç</span> </a>
                </ul>
                <hr>
            </div>

            <strong>Hlavn√≠ j√≠dla</strong>

            <ul class="list-group">
                <a href="javascript:void(0)" class="list-group-item list-group-item-action" v-for="item in activeRestaurantMenu.main"
                    @click='(selected2.indexOf(item.id) == -1) ? addToBill(item) : removeFromBill(item)' :class="{active:selected2.indexOf(item.id)!=-1}">
                    {{item.name}} <span class="float-right">{{item.price}} ,- Kƒç</span> </a>
            </ul>
        </div>

        <hr>
        <div v-if="selected2.length > 0" id="summary">
            <h2>Total: <span class="float-right">{{total}} ,-Kƒç</span></h2>
            <hr>

        </div>

        <div v-if="total > 0" id="payForm">

            <button class="btn btn-success">Platit üòã</button>

        </div>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>

    <script>
        var app = new Vue({
            el: "#app",
            data: {
                restaurants: [{
                        name: 'Zorto',
                        lastComment: 'Dnes maj√≠ v zortu burger üçî, kter√Ω mohu jen doporuƒçit üòã ',
                        stars: 4,
                        id: 152
                    },
                    {
                        name: 'Melina',
                        lastComment: 'Do meliny u≈æ nechodit!! ',
                        stars: 2,
                        id: 168
                    },
                    {
                        name: 'McDonald\'s',
                        lastComment: 'Dnes Dolore anim id laboris qui culpa veniam.',
                        stars: 3,
                        id: 151
                    },
                    {
                        name: 'Jidelna s.r.o.',
                        lastComment: 'Eiusmod voluptate commodo quis veniam dolore in sunt.',
                        stars: 1,
                        id: 14
                    },
                    {
                        name: 'Zradlo s.r.o.',
                        lastComment: 'Magna minim laboris pariatur eu laborum proident sit magna elit qui velit ad est. ',
                        stars: 5,
                        id: 2
                    }
                ],
                restaurantMenu: [{
                    restaurantId: 152,
                    soup: [{
                        id: 1,
                        name: "ƒåesneƒçka",
                        price: 39
                    }, {
                        id: 2,
                        name: "Gul√°≈°ov√°",
                        price: 30
                    }],

                    main: [{
                        id: 3,
                        name: "Burger",
                        price: 140
                    }, {
                        id: 4,
                        name: "Koleno",
                        price: 160
                    }, {
                        id: 5,
                        name: "≈ò√≠zek",
                        price: 120
                    }, {
                        id: 6,
                        name: "Mozzarella pizza pasta",
                        price: 1111
                    }],

                }, {
                    restaurantId: 168,
                    soup: [{
                        id: 7,
                        name: "ƒåoƒçkov√°",
                        price: 99
                    }],

                    main: [{
                        id: 8,
                        name: "ƒåoƒçka",
                        price: 140
                    }, {
                        id: 9,
                        name: "Sma≈æ√≠k",
                        price: 160
                    }, {
                        id: 10,
                        name: "Chleba",
                        price: 120
                    }],

                }, {
                    restaurantId: 151,
                    soup: [],

                    main: [{
                        id: 11,
                        name: "Tu≈à√°k",
                        price: 140
                    }, {
                        id: 12,
                        name: "Tuƒç≈à√°k",
                        price: 160
                    }, {
                        id: 13,
                        name: "Ku≈ôe",
                        price: 120
                    }, {
                        id: 14,
                        name: "T-Rex Happy Meal",
                        price: 999999
                    }],

                }, {
                    restaurantId: 14,
                    soup: [{
                        id: 15,
                        name: "Cibulaƒçka",
                        price: 29
                    }, {
                        id: 16,
                        name: "Chlebov√°",
                        price: 90
                    }, {
                        id: 17,
                        name: "Ml√©kov√°",
                        price: 30
                    }],

                    main: [{
                        id: 18,
                        name: "J√≠dlo 1",
                        price: 140
                    }, {
                        id: 19,
                        name: "J√≠dlo 2",
                        price: 160
                    }, {
                        id: 20,
                        name: "J√≠dlo 3",
                        price: 120
                    }, {
                        id: 21,
                        name: "J√≠dlo 4",
                        price: 1111
                    }],

                }, {
                    restaurantId: 2,
                    soup: [{
                        id: 22,
                        name: "Dobnr√° pol√©vka",
                        price: 39
                    }],

                    main: [{
                        id: 23,
                        name: "Dobr√© j√≠dlo 1",
                        price: 140
                    }, {
                        id: 24,
                        name: "Dobr√© j√≠dlo 2",
                        price: 160
                    }, {
                        id: 25,
                        name: "Dobr√© j√≠dlo 3",
                        price: 120
                    }, {
                        id: 26,
                        name: "Dobr√© j√≠dlo 4",
                        price: 89
                    }, {
                        id: 27,
                        name: "Dobr√© j√≠dlo 5",
                        price: 127
                    }, {
                        id: 28,
                        name: "Dobr√© j√≠dlo 6",
                        price: 121
                    }, {
                        id: 29,
                        name: "Dobr√© j√≠dlo 7",
                        price: 120
                    }],

                }],
                selected: undefined,
                selected2: [],
                star: "‚≠ê",
                total: 0


            },

            methods: {
                selectedSoup: function (item) {
                    return this.activeRestaurantMenu.soup.find(x => x.id == item);
                },
                selectedMain: function (item) {
                    return this.activeRestaurantMenu.main.find(x => x.id == item);
                },
                addToBill: function (item) {
                    this.selected2.push(item.id)
                    this.total += item.price;
                },
                removeFromBill: function (item) {
                    this.selected2.splice(this.selected2.indexOf(item.id), 1);
                    this.total -= item.price;
                }
            },
            computed: {
                activeRestaurant: function () {
                    return this.restaurants.find(x => x.id === this.selected);
                },
                activeRestaurantMenu: function () {
                    return this.restaurantMenu.find(x => x.restaurantId === this.selected);
                }
            }
        });
    </script>
</body>

</html>